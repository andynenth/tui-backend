{"version":3,"file":"Spring.mjs","sources":["../../../src/components/trackpad/Spring.ts"],"sourcesContent":["export interface SpringOptions {\n    max?: number;\n    damp?: number;\n    springiness?: number;\n}\n\nexport class Spring {\n    x: number;\n    ax: number;\n    dx: number;\n    tx: number;\n\n    protected _options: Required<SpringOptions>;\n\n    constructor(options: SpringOptions = {}) {\n        this.x = 0;\n        this.ax = 0;\n        this.dx = 0;\n        this.tx = 0;\n\n        // add opts to object for shared opts.\n        this._options = options as Required<SpringOptions>;\n        this._options.max = options.max ?? 160;\n        this._options.damp = options.damp ?? 0.8;\n        this._options.springiness = options.springiness ?? 0.1;\n    }\n\n    update(): void {\n        this.ax = (this.tx - this.x) * this._options.springiness;\n\n        this.dx += this.ax;\n        this.dx *= this._options.damp;\n\n        if (this.dx < -this._options.max) this.dx = -this._options.max;\n        else if (this.dx > this._options.max) this.dx = this._options.max;\n\n        this.x += this.dx;\n    }\n}\n"],"names":[],"mappings":";;;AAMO,MAAM,OAAO;AAAA,EAQhB,YAAY,UAAyB,IAAI;AAPzC;AACA;AACA;AACA;AAEU;AAGN,SAAK,IAAI;AACT,SAAK,KAAK;AACV,SAAK,KAAK;AACV,SAAK,KAAK;AAGV,SAAK,WAAW;AACX,SAAA,SAAS,MAAM,QAAQ,OAAO;AAC9B,SAAA,SAAS,OAAO,QAAQ,QAAQ;AAChC,SAAA,SAAS,cAAc,QAAQ,eAAe;AAAA,EAAA;AAAA,EAGvD,SAAe;AACX,SAAK,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,SAAS;AAE7C,SAAK,MAAM,KAAK;AACX,SAAA,MAAM,KAAK,SAAS;AAErB,QAAA,KAAK,KAAK,CAAC,KAAK,SAAS,IAAU,MAAA,KAAK,CAAC,KAAK,SAAS;AAAA,aAClD,KAAK,KAAK,KAAK,SAAS,IAAU,MAAA,KAAK,KAAK,SAAS;AAE9D,SAAK,KAAK,KAAK;AAAA,EAAA;AAEvB;"}