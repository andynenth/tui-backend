 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 5
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Andy, Required: null, Plays: 0
 ğŸ² TURN_PLAYS_DEBUG: Converted 0 plays to currentTurnPlays: []
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 5
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, myHand: {â€¦}, currentTurnStarter: {â€¦}, turnOrder: {â€¦}, currentPlayer: {â€¦},Â â€¦}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 5
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Andy', turn_order: Array(4), required_piece_count: null, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(3), hand_size: 3}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to null from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 5
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Andy, Required: null, Plays: 0
 ğŸ² TURN_PLAYS_DEBUG: Converted 0 plays to currentTurnPlays: []
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 5
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {lastEventSequence: {â€¦}, canPlayAnyCount: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 5
 ğŸ¯ TURN_UI: Card clicked at index 0, isMyTurn: true
 ğŸ¯ TURN_UI: Selecting card 0, new selection: [0]
 ğŸ® Action sent: play {piece_indices: Array(1), player_name: 'Andy', play_value: 12}
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 2', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(3), hand_size: 3}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 5
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 2, Required: 1, Plays: 1
 ğŸ² TURN_PLAYS_DEBUG: Converted 1 plays to currentTurnPlays: [{â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 5
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, requiredPieceCount: {â€¦}, isMyTurn: {â€¦}, allowedActions: {â€¦},Â â€¦}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 5
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 3', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(3), hand_size: 3}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 5
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 3, Required: 1, Plays: 2
 ğŸ² TURN_PLAYS_DEBUG: Converted 2 plays to currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 5
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 5
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 4', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(3), hand_size: 3}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 5
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 4, Required: 1, Plays: 3
 ğŸ² TURN_PLAYS_DEBUG: Converted 3 plays to currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 5
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 5
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 4', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(3), hand_size: 3}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 5
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 4, Required: 1, Plays: 4
 ğŸ² TURN_PLAYS_DEBUG: Converted 4 plays to currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 5
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 5
 ğŸŒ FRONTEND_EVENT_DEBUG: Received turn_complete event for room 892141 {winner: 'Andy', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸŒ PROCESS_EVENT_DEBUG: Handling turn_complete event with data: {winner: 'Andy', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸ† TURN_COMPLETE_RAW_DEBUG: Event data received: {
  "winner": "Andy",
  "winning_play": {
    "pieces": [
      "ADVISOR_RED(12)"
    ],
    "value": 0,
    "type": "unknown",
    "pilesWon": 1
  },
  "turn_resolution": {
    "all_plays": [
      {
        "player": "Andy",
        "pieces": [
          "ADVISOR_RED(12)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 2",
        "pieces": [
          "HORSE_BLACK(5)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 3",
        "pieces": [
          "CANNON_RED(4)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 4",
        "pieces": [
          "HORSE_RED(6)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      }
    ],
    "winner": "Andy",
    "winner_play": {
      "pieces": [
        "ADVISOR_RED(12)"
      ],
      "value": 0,
      "type": "unknown",
      "pilesWon": 1
    }
  },
  "player_piles": {
    "Andy": 1,
    "Bot 2": 0,
    "Bot 3": 0,
    "Bot 4": 0
  },
  "players": [
    {
      "name": "Andy"
    },
    {
      "name": "Bot 2"
    },
    {
      "name": "Bot 3"
    },
    {
      "name": "Bot 4"
    }
  ],
  "turn_number": 5,
  "next_starter": "Andy",
  "all_hands_empty": false,
  "will_continue": true,
  "phase": "turn",
  "sequence": 391,
  "timestamp": 1751602100.228436,
  "reason": "Turn 5 completed - winner: Andy",
  "room_id": "892141"
}
 ğŸ† TURN_COMPLETE_DEBUG: Round 10, Turn 5 completed!
 ğŸ† TURN_WINNER_DEBUG: Winner: Andy, Next starter: Andy
 ğŸ† TURN_COMPLETE_DATA: {winner: 'Andy', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸ† TURN_COMPLETE_DEBUG: Transitioning to turn_results phase with state: {phase: 'turn_results', turnWinner: 'Andy', winningPlay: {â€¦}, playerPiles: {â€¦}, turnNumber: 5,Â â€¦}
 ğŸŒ PROCESS_EVENT_DEBUG: Event turn_complete processed, updating derived state
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing turn_complete event
 ğŸ® State Change: NETWORK_EVENT:TURN_COMPLETE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, winningPlay: {â€¦}, turnNumber: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 5
   ğŸª nextStarter: Andy
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 5
   ğŸª nextStarter: Andy
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 5
   ğŸª nextStarter: Andy
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 5
   ğŸª nextStarter: Andy
 ğŸ† GAMECONTAINER_DEBUG: Building turnResultsProps with gameState:
   ğŸ® gameState.phase: turn_results
   ğŸ… gameState.turnWinner: Andy
   ğŸ¯ gameState.winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š gameState.playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ‘¥ gameState.players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ gameState.turnNumber: 5
   ğŸª gameState.nextStarter: Andy
 ğŸ† GAMECONTAINER_DEBUG: Final turnResultsProps: {winner: 'Andy', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 5,Â â€¦}
 ğŸ† GAMECONTAINER_DEBUG: Rendering TurnResultsUI with props: {winner: 'Andy', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 5,Â â€¦}
 ğŸ† TURN_RESULTS_UI_DEBUG: TurnResultsUI component rendered with props:
   ğŸ… winner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ‘¥ players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ turnNumber: 5
   ğŸª nextStarter: Andy
 ğŸ† TURN_RESULTS_UI_DEBUG: Computed values:
   âœ… hasWinner: true
   ğŸƒ winningPieces: ['ADVISOR_RED(12)']
   ğŸ’ winningValue: 0
   ğŸ² winningType: unknown
   ğŸ† pilesWon: 1
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Andy', turn_order: Array(4), required_piece_count: null, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(2), hand_size: 2}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to null from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 6
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Andy, Required: null, Plays: 0
 ğŸ² TURN_PLAYS_DEBUG: Converted 0 plays to currentTurnPlays: []
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 6
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, myHand: {â€¦}, currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, requiredPieceCount: {â€¦},Â â€¦}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 6
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Andy', turn_order: Array(4), required_piece_count: null, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(2), hand_size: 2}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to null from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 6
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Andy, Required: null, Plays: 0
 ğŸ² TURN_PLAYS_DEBUG: Converted 0 plays to currentTurnPlays: []
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 6
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {lastEventSequence: {â€¦}, canPlayAnyCount: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 6
 ğŸ¯ TURN_UI: Card clicked at index 1, isMyTurn: true
 ğŸ¯ TURN_UI: Selecting card 1, new selection: [1]
 ğŸ® Action sent: play {piece_indices: Array(1), player_name: 'Andy', play_value: 1}
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 2', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(2), hand_size: 2}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 6
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 2, Required: 1, Plays: 1
 ğŸ² TURN_PLAYS_DEBUG: Converted 1 plays to currentTurnPlays: [{â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 6
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, requiredPieceCount: {â€¦}, isMyTurn: {â€¦}, allowedActions: {â€¦},Â â€¦}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 6
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 3', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(2), hand_size: 2}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 6
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 3, Required: 1, Plays: 2
 ğŸ² TURN_PLAYS_DEBUG: Converted 2 plays to currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 6
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 6
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 4', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(2), hand_size: 2}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 6
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 4, Required: 1, Plays: 3
 ğŸ² TURN_PLAYS_DEBUG: Converted 3 plays to currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 6
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 6
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Andy', current_player: 'Bot 4', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(2), hand_size: 2}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 6
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Andy, Current: Bot 4, Required: 1, Plays: 4
 ğŸ² TURN_PLAYS_DEBUG: Converted 4 plays to currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 6
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸŒ FRONTEND_EVENT_DEBUG: Received turn_complete event for room 892141 {winner: 'Bot 4', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸŒ PROCESS_EVENT_DEBUG: Handling turn_complete event with data: {winner: 'Bot 4', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸ† TURN_COMPLETE_RAW_DEBUG: Event data received: {
  "winner": "Bot 4",
  "winning_play": {
    "pieces": [
      "CANNON_RED(4)"
    ],
    "value": 0,
    "type": "unknown",
    "pilesWon": 1
  },
  "turn_resolution": {
    "all_plays": [
      {
        "player": "Andy",
        "pieces": [
          "SOLDIER_BLACK(1)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 2",
        "pieces": [
          "SOLDIER_BLACK(1)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 3",
        "pieces": [
          "CANNON_BLACK(3)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 4",
        "pieces": [
          "CANNON_RED(4)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      }
    ],
    "winner": "Bot 4",
    "winner_play": {
      "pieces": [
        "CANNON_RED(4)"
      ],
      "value": 0,
      "type": "unknown",
      "pilesWon": 1
    }
  },
  "player_piles": {
    "Bot 4": 1,
    "Andy": 0,
    "Bot 2": 0,
    "Bot 3": 0
  },
  "players": [
    {
      "name": "Andy"
    },
    {
      "name": "Bot 2"
    },
    {
      "name": "Bot 3"
    },
    {
      "name": "Bot 4"
    }
  ],
  "turn_number": 6,
  "next_starter": "Bot 4",
  "all_hands_empty": false,
  "will_continue": true,
  "phase": "turn",
  "sequence": 398,
  "timestamp": 1751602113.246399,
  "reason": "Turn 6 completed - winner: Bot 4",
  "room_id": "892141"
}
 ğŸ† TURN_COMPLETE_DEBUG: Round 10, Turn 6 completed!
 ğŸ† TURN_WINNER_DEBUG: Winner: Bot 4, Next starter: Bot 4
 ğŸ† TURN_COMPLETE_DATA: {winner: 'Bot 4', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸ† TURN_COMPLETE_DEBUG: Transitioning to turn_results phase with state: {phase: 'turn_results', turnWinner: 'Bot 4', winningPlay: {â€¦}, playerPiles: {â€¦}, turnNumber: 6,Â â€¦}
 ğŸŒ PROCESS_EVENT_DEBUG: Event turn_complete processed, updating derived state
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing turn_complete event
 ğŸ® State Change: NETWORK_EVENT:TURN_COMPLETE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, turnWinner: {â€¦}, winningPlay: {â€¦}, playerPiles: {â€¦}, turnNumber: {â€¦},Â â€¦}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Bot 4
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ”¢ turnNumber: 6
   ğŸª nextStarter: Bot 4
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Bot 4
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ”¢ turnNumber: 6
   ğŸª nextStarter: Bot 4
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Bot 4
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ”¢ turnNumber: 6
   ğŸª nextStarter: Bot 4
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Bot 4
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ”¢ turnNumber: 6
   ğŸª nextStarter: Bot 4
 ğŸ† GAMECONTAINER_DEBUG: Building turnResultsProps with gameState:
   ğŸ® gameState.phase: turn_results
   ğŸ… gameState.turnWinner: Bot 4
   ğŸ¯ gameState.winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š gameState.playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ‘¥ gameState.players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ gameState.turnNumber: 6
   ğŸª gameState.nextStarter: Bot 4
 ğŸ† GAMECONTAINER_DEBUG: Final turnResultsProps: {winner: 'Bot 4', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 6,Â â€¦}
 ğŸ† GAMECONTAINER_DEBUG: Rendering TurnResultsUI with props: {winner: 'Bot 4', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 6,Â â€¦}
 ğŸ† TURN_RESULTS_UI_DEBUG: TurnResultsUI component rendered with props:
   ğŸ… winner: Bot 4
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ‘¥ players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ turnNumber: 6
   ğŸª nextStarter: Bot 4
 ğŸ† TURN_RESULTS_UI_DEBUG: Computed values:
   âœ… hasWinner: true
   ğŸƒ winningPieces: ['CANNON_RED(4)']
   ğŸ’ winningValue: 0
   ğŸ² winningType: unknown
   ğŸ† pilesWon: 1
 ğŸ† GAMECONTAINER_DEBUG: Rendering TurnResultsUI with props: {winner: 'Bot 4', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 6,Â â€¦}
 ğŸ† TURN_RESULTS_UI_DEBUG: TurnResultsUI component rendered with props:
   ğŸ… winner: Bot 4
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Bot 4: 1, Andy: 0, Bot 2: 0, Bot 3: 0}
   ğŸ‘¥ players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ turnNumber: 6
   ğŸª nextStarter: Bot 4
 ğŸ† TURN_RESULTS_UI_DEBUG: Computed values:
   âœ… hasWinner: true
   ğŸƒ winningPieces: ['CANNON_RED(4)']
   ğŸ’ winningValue: 0
   ğŸ² winningType: unknown
   ğŸ† pilesWon: 1
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: 'Bot 4', turn_order: Array(4), required_piece_count: null, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(1), hand_size: 1}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to null from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: Bot 4, Required: null, Plays: 0
 ğŸ² TURN_PLAYS_DEBUG: Converted 0 plays to currentTurnPlays: []
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, myHand: {â€¦}, currentTurnStarter: {â€¦}, turnOrder: {â€¦}, currentTurnPlays: {â€¦},Â â€¦}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: 'Bot 4', turn_order: Array(4), required_piece_count: null, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(1), hand_size: 1}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to null from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: Bot 4, Required: null, Plays: 0
 ğŸ² TURN_PLAYS_DEBUG: Converted 0 plays to currentTurnPlays: []
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 4, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: []
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: 'Andy', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(1), hand_size: 1}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: Andy, Required: 1, Plays: 1
 ğŸ² TURN_PLAYS_DEBUG: Converted 1 plays to currentTurnPlays: [{â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Andy, playerName: Andy, isMyTurn: true
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: [{â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, requiredPieceCount: {â€¦}, isMyTurn: {â€¦}, allowedActions: {â€¦},Â â€¦}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
 ğŸ¯ TURN_UI: Card clicked at index 0, isMyTurn: true
 ğŸ¯ TURN_UI: Selecting card 0, new selection: [0]
 ğŸ® Action sent: play {piece_indices: Array(1), player_name: 'Andy', play_value: 10}
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: 'Bot 2', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(1), hand_size: 1}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: Bot 2, Required: 1, Plays: 2
 ğŸ² TURN_PLAYS_DEBUG: Converted 2 plays to currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 2, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (2)Â [{â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, isMyTurn: {â€¦}, allowedActions: {â€¦}, validOptions: {â€¦},Â â€¦}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: 'Bot 3', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(1), hand_size: 1}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: Bot 3, Required: 1, Plays: 3
 ğŸ² TURN_PLAYS_DEBUG: Converted 3 plays to currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentPlayer: {â€¦}, currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: 'Bot 3', turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(1), hand_size: 1}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: Bot 3, Required: 1, Plays: 4
 ğŸ² TURN_PLAYS_DEBUG: Converted 4 plays to currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 Diff: {currentTurnPlays: {â€¦}, lastEventSequence: {â€¦}}
 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
 ğŸŒ FRONTEND_EVENT_DEBUG: Received turn_complete event for room 892141 {winner: 'Andy', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸŒ PROCESS_EVENT_DEBUG: Handling turn_complete event with data: {winner: 'Andy', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸ† TURN_COMPLETE_RAW_DEBUG: Event data received: {
  "winner": "Andy",
  "winning_play": {
    "pieces": [
      "ELEPHANT_RED(10)"
    ],
    "value": 0,
    "type": "unknown",
    "pilesWon": 1
  },
  "turn_resolution": {
    "all_plays": [
      {
        "player": "Bot 4",
        "pieces": [
          "CANNON_BLACK(3)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Andy",
        "pieces": [
          "ELEPHANT_RED(10)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 2",
        "pieces": [
          "SOLDIER_BLACK(1)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      },
      {
        "player": "Bot 3",
        "pieces": [
          "SOLDIER_RED(2)"
        ],
        "is_valid": true,
        "play_type": "unknown",
        "play_value": 0
      }
    ],
    "winner": "Andy",
    "winner_play": {
      "pieces": [
        "ELEPHANT_RED(10)"
      ],
      "value": 0,
      "type": "unknown",
      "pilesWon": 1
    }
  },
  "player_piles": {
    "Andy": 1,
    "Bot 2": 0,
    "Bot 3": 0,
    "Bot 4": 0
  },
  "players": [
    {
      "name": "Andy"
    },
    {
      "name": "Bot 2"
    },
    {
      "name": "Bot 3"
    },
    {
      "name": "Bot 4"
    }
  ],
  "turn_number": 7,
  "next_starter": "Andy",
  "all_hands_empty": true,
  "will_continue": false,
  "phase": "turn",
  "sequence": 405,
  "timestamp": 1751602127.5347662,
  "reason": "Turn 7 completed - winner: Andy",
  "room_id": "892141"
}
 ğŸ† TURN_COMPLETE_DEBUG: Round 10, Turn 7 completed!
 ğŸ† TURN_WINNER_DEBUG: Winner: Andy, Next starter: Andy
 ğŸ† TURN_COMPLETE_DATA: {winner: 'Andy', winning_play: {â€¦}, turn_resolution: {â€¦}, player_piles: {â€¦}, players: Array(4),Â â€¦}
 ğŸ† TURN_COMPLETE_DEBUG: Transitioning to turn_results phase with state: {phase: 'turn_results', turnWinner: 'Andy', winningPlay: {â€¦}, playerPiles: {â€¦}, turnNumber: 7,Â â€¦}
 ğŸŒ PROCESS_EVENT_DEBUG: Event turn_complete processed, updating derived state
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing turn_complete event
 ğŸ® State Change: NETWORK_EVENT:TURN_COMPLETE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, turnWinner: {â€¦}, winningPlay: {â€¦}, playerPiles: {â€¦}, turnNumber: {â€¦},Â â€¦}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 7
   ğŸª nextStarter: Andy
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 7
   ğŸª nextStarter: Andy
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 7
   ğŸª nextStarter: Andy
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'turn_results'
 ğŸ† GAME_STATE_DEBUG: Entering turn_results phase with data:
   ğŸ… turnWinner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ”¢ turnNumber: 7
   ğŸª nextStarter: Andy
 ğŸ† GAMECONTAINER_DEBUG: Building turnResultsProps with gameState:
   ğŸ® gameState.phase: turn_results
   ğŸ… gameState.turnWinner: Andy
   ğŸ¯ gameState.winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š gameState.playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ‘¥ gameState.players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ gameState.turnNumber: 7
   ğŸª gameState.nextStarter: Andy
 ğŸ† GAMECONTAINER_DEBUG: Final turnResultsProps: {winner: 'Andy', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 7,Â â€¦}
 ğŸ† GAMECONTAINER_DEBUG: Rendering TurnResultsUI with props: {winner: 'Andy', winningPlay: {â€¦}, playerPiles: {â€¦}, players: Array(4), turnNumber: 7,Â â€¦}
 ğŸ† TURN_RESULTS_UI_DEBUG: TurnResultsUI component rendered with props:
   ğŸ… winner: Andy
   ğŸ¯ winningPlay: {pieces: Array(1), value: 0, type: 'unknown', pilesWon: 1}
   ğŸ“Š playerPiles: {Andy: 1, Bot 2: 0, Bot 3: 0, Bot 4: 0}
   ğŸ‘¥ players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ”¢ turnNumber: 7
   ğŸª nextStarter: Andy
 ğŸ† TURN_RESULTS_UI_DEBUG: Computed values:
   âœ… hasWinner: true
   ğŸƒ winningPieces: ['ELEPHANT_RED(10)']
   ğŸ’ winningValue: 0
   ğŸ² winningType: unknown
   ğŸ† pilesWon: 1
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'turn', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: turn
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {current_turn_starter: 'Bot 4', current_player: null, turn_order: Array(4), required_piece_count: 1, turn_plays: {â€¦},Â â€¦}
GameService.ts:509 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(0), hand_size: 0}
GameService.ts:543 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:544 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
GameService.ts:620 ğŸ¯ REQUIRED_COUNT_FIX: Set requiredPieceCount to 1 from backend phase_data
GameService.ts:631 ğŸ”¢ FRONTEND_ROUND_TURN_DEBUG: Round 10, Turn 7
GameService.ts:632 ğŸ¯ FRONTEND_TURN_STATE: Starter: Bot 4, Current: unknown, Required: 1, Plays: 4
GameService.ts:649 ğŸ² TURN_PLAYS_DEBUG: Converted 4 plays to currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:654 ğŸ”¢ FRONTEND_TURN_DEBUG: phaseData.current_turn_number = 7
GameService.ts:489 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
GameService.ts:1048 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
GameService.ts:1049 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
GameService.ts:1050 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:1048 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
GameService.ts:1049 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
GameService.ts:1050 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:1048 ğŸ¯ TURN_DEBUG: currentPlayer: Bot 3, playerName: Andy, isMyTurn: false
GameService.ts:1049 ğŸ¯ TURN_DEBUG: turnOrder: (4)Â ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
GameService.ts:1050 ğŸ¯ TURN_DEBUG: currentTurnPlays: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:493 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
GameService.ts:1258 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
GameService.ts:1259 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn_results', currentRound: 10,Â â€¦}
GameService.ts:1260 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
GameService.ts:1261 Diff: {phase: {â€¦}, myHand: {â€¦}, lastEventSequence: {â€¦}}
useGameState.ts:32 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
useGameState.ts:32 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
useGameState.ts:32 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
useGameState.ts:32 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn_results' to 'turn'
GameContainer.jsx:86 ğŸ”¢ GAMECONTAINER_DEBUG: gameState.currentTurnNumber = 7
GameService.ts:407 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'scoring', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, round: 10,Â â€¦}
GameService.ts:506 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: scoring
GameService.ts:507 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
GameService.ts:508 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {round_scores: {â€¦}, total_scores: {â€¦}, players: Array(4), game_complete: true, winners: Array(1),Â â€¦}
GameService.ts:509 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(0), hand_size: 0}
GameService.ts:543 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:544 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
GameService.ts:663 ğŸ† SCORING_FRONTEND_DEBUG: Processing scoring phase data
GameService.ts:664 ğŸ“Š Raw phase data: {round_scores: {â€¦}, total_scores: {â€¦}, players: Array(4), game_complete: true, winners: Array(1),Â â€¦}
GameService.ts:665 ğŸ‘¥ Available players in newState: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
GameService.ts:671 ğŸ“Š SCORING_DEBUG: Raw round scores: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
GameService.ts:716 âœ… SCORING_DEBUG: Processed round scores: {Andy: 8, Bot 2: -2, Bot 3: 6, Bot 4: 6}
GameService.ts:717 âœ… SCORING_DEBUG: Processed total scores: {Andy: 55, Bot 2: -5, Bot 3: -6, Bot 4: 14}
GameService.ts:718 âœ… SCORING_DEBUG: Game over: true
GameService.ts:719 âœ… SCORING_DEBUG: Winners: ['Andy']
GameService.ts:720 âœ… SCORING_DEBUG: Redeal multiplier: 1
 ğŸ§® SCORING_DEBUG: Calculating playersWithScores...
 ğŸ§® SCORING_DEBUG: Generated playersWithScores: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'turn', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 Diff: {phase: {â€¦}, players: {â€¦}, roundScores: {â€¦}, totalScores: {â€¦}, winners: {â€¦},Â â€¦}
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'scoring'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'scoring'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'scoring'
 ğŸ® GAME_STATE_DEBUG: Phase changed from 'turn' to 'scoring'
 ğŸŒ FRONTEND_EVENT_DEBUG: Received phase_change event for room 892141 {phase: 'scoring', allowed_actions: Array(4), phase_data: {â€¦}, players: {â€¦}, timestamp: 1751602127.537357,Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: Phase: scoring
 ğŸ”„ PHASE_CHANGE_DEBUG: Data players: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 ğŸ”„ PHASE_CHANGE_DEBUG: Data phase_data: {round_scores: {â€¦}, total_scores: {â€¦}, players: Array(4), game_complete: true, winners: Array(1),Â â€¦}
 ğŸ”„ PHASE_CHANGE_DEBUG: First player raw: Andy {hand: Array(0), hand_size: 0}
 ğŸ”„ PHASE_CHANGE_DEBUG: Converted players array: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ”„ PHASE_CHANGE_DEBUG: Sample player object: {name: 'Andy', is_bot: false, is_host: false, zero_declares_in_a_row: 0}
 ğŸ† SCORING_FRONTEND_DEBUG: Processing scoring phase data
 ğŸ“Š Raw phase data: {round_scores: {â€¦}, total_scores: {â€¦}, players: Array(4), game_complete: true, winners: Array(1),Â â€¦}
 ğŸ‘¥ Available players in newState: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ“Š SCORING_DEBUG: Raw round scores: {Andy: {â€¦}, Bot 2: {â€¦}, Bot 3: {â€¦}, Bot 4: {â€¦}}
 âœ… SCORING_DEBUG: Processed round scores: {Andy: 8, Bot 2: -2, Bot 3: 6, Bot 4: 6}
 âœ… SCORING_DEBUG: Processed total scores: {Andy: 55, Bot 2: -5, Bot 3: -6, Bot 4: 14}
 âœ… SCORING_DEBUG: Game over: true
 âœ… SCORING_DEBUG: Winners: ['Andy']
 âœ… SCORING_DEBUG: Redeal multiplier: 1
 ğŸ§® SCORING_DEBUG: Calculating playersWithScores...
 ğŸ§® SCORING_DEBUG: Generated playersWithScores: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸŒ PROCESS_EVENT_DEBUG: Event phase_change processed, updating derived state
 ğŸŒ PROCESS_EVENT_DEBUG: Finished processing phase_change event
 ğŸ® State Change: NETWORK_EVENT:PHASE_CHANGE
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 Diff: {lastEventSequence: {â€¦}}
 ğŸ® GAME_CONTAINER_DEBUG: Passing props to ScoringUI:
   ğŸ‘¥ players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ“Š roundScores: {Andy: 8, Bot 2: -2, Bot 3: 6, Bot 4: 6}
   ğŸ’¯ totalScores: {Andy: 55, Bot 2: -5, Bot 3: -6, Bot 4: 14}
   ğŸ§® playersWithScores: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   âš—ï¸ redealMultiplier: 1
   ğŸ gameOver: true
   ğŸ† winners: ['Andy']
 ğŸ† SCORING_UI_DEBUG: ScoringUI props received:
   ğŸ‘¥ players: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ“Š roundScores: {Andy: 8, Bot 2: -2, Bot 3: 6, Bot 4: 6}
   ğŸ’¯ totalScores: {Andy: 55, Bot 2: -5, Bot 3: -6, Bot 4: 14}
   âš—ï¸ redealMultiplier: 1
   ğŸ§® playersWithScores: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
   ğŸ gameOver: true
   ğŸ† winners: ['Andy']
 ğŸ¯ SCORING_UI_DEBUG: Final sortedPlayers: (4)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
bundle.js:1 [Violation] 'message' handler took 5061ms
 ğŸ® State Change: NETWORK_DISCONNECTED
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 New: {isConnected: false, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 Diff: {isConnected: {â€¦}, lastEventSequence: {â€¦}}
 ğŸŒ NetworkService: Disconnected from room lobby
 ğŸ”— Connection opened to room lobby
 ğŸ® State Change: NETWORK_CONNECTED
 Previous: {isConnected: false, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 Diff: {isConnected: {â€¦}, lastEventSequence: {â€¦}}
 ğŸŒ NetworkService: Connected to room lobby
 ğŸ® State Change: NETWORK_DISCONNECTED
 Previous: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 New: {isConnected: false, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 Diff: {isConnected: {â€¦}, lastEventSequence: {â€¦}}
 ğŸŒ NetworkService: Disconnected from room lobby
 ğŸ“¤ Queued message for lobby: get_rooms (1 queued)
 ğŸ”— Connection opened to room lobby
 ğŸ® State Change: NETWORK_CONNECTED
 Previous: {isConnected: false, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 New: {isConnected: true, roomId: '892141', playerName: 'Andy', phase: 'scoring', currentRound: 10,Â â€¦}
 Diff: {isConnected: {â€¦}, lastEventSequence: {â€¦}}
 ğŸŒ NetworkService: Connected to room lobby
 Received room_list_update: {roomId: 'lobby', data: {â€¦}, message: {â€¦}, timestamp: 1751602135769}

---

ğŸ¯ NEW_TURN_DEBUG: Round 10, Turn 5 starting with starter Andy
ğŸ¤– NEW_TURN_DEBUG: Notifying bot manager about new turn starter Andy for room 892141
ğŸ” DUPLICATE_DEBUG: Received turn_started event for Andy from unknown
ğŸ‘¤ Human player Andy starts, waiting for their play
ğŸ”¢ TURN_NUMBER_DEBUG: Backend game.turn_number = 5
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: New turn 5 started with starter Andy
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: New turn 5 started with starter Andy
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Andy is a bot
ğŸ‘¤ ENTERPRISE_BOT_DEBUG: Current player Andy is human - waiting
ğŸ¯ START_NEXT_DEBUG: _start_new_turn() completed
ğŸ¯ TURN_COMPLETE_DEBUG: _process_turn_completion() finished
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Andy, required_piece_count: None
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 2 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 2 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Andy is a bot
ğŸ‘¤ ENTERPRISE_BOT_DEBUG: Current player Andy is human - waiting
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Andy
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 2', 'pieces': [CHARIOT_BLACK(7)], 'piece_count': 1, 'required_count': None, 'next_player': 'Andy', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 2 play accepted - state machine handling all updates
DEBUG_WS_RECEIVE: Received event 'play' from client in room 892141 with data: {'piece_indices': [0], 'player_name': 'Andy', 'play_value': 12}
ğŸ¯ WS_PLAY_DEBUG: Received play event - player: Andy, indices: [0]
ğŸ¯ WS_PLAY_DEBUG: Found player Andy with hand size 3
ğŸ¯ WS_PLAY_DEBUG: Added piece at index 0: ADVISOR_RED(12)
ğŸ¯ WS_PLAY_DEBUG: Final pieces to play: ['ADVISOR_RED(12)']
ğŸ¯ WS_PLAY_DEBUG: Queuing action for state machine...
ğŸ¯ WS_PLAY_DEBUG: State machine result: {'success': True, 'queued': True}
âœ… Play queued: Andy -> [0]
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Andy
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Andy
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 0, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Andy playing 1 pieces: ['ADVISOR_RED(12)']
ğŸ¯ TURN_STATE_DEBUG: Setting required piece count to 1
ğŸ¯ TURN_STATE_DEBUG: Before setting - required_piece_count was: None
ğŸ¯ TURN_STATE_DEBUG: After setting - required_piece_count is: 1
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 0
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 1
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 2
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 5 - Andy played, next: Bot 2
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 2, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Andy played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Andy played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 2 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 2 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 2 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 2 - play_pieces from phase_change (hash: 24adaf6dde78)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 2 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (5 pts): HORSE
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['HORSE_BLACK(5)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 2 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 2
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Andy', 'pieces': [ADVISOR_RED(12)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 2', 'turn_complete': False}
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 2
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 2
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 1, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 2 playing 1 pieces: ['HORSE_BLACK(5)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 1
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 2
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 3
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 5 - Bot 2 played, next: Bot 3
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 3, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 2 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 2 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 3 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 3 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 3 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 3 - play_pieces from phase_change (hash: b84586616fc6)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 3 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (4 pts): CANNON
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['CANNON_RED(4)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 3 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 3
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 2', 'pieces': [HORSE_BLACK(5)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 3', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 2 play accepted - state machine handling all updates
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 3
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 3
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 2, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 3 playing 1 pieces: ['CANNON_RED(4)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 2
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 3
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 4
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 5 - Bot 3 played, next: Bot 4
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 4, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 3 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 3 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 4 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 4 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 4 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 4 - play_pieces from phase_change (hash: 749788fbee0b)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 4 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (6 pts): HORSE
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['HORSE_RED(6)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 4 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 4
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 3', 'pieces': [CANNON_RED(4)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 4', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 3 play accepted - state machine handling all updates
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 4
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 4
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 3, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 4 playing 1 pieces: ['HORSE_RED(6)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 3
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 4
ğŸ¯ TURN_STATE_DEBUG: Next player: None
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 5 - Bot 4 played, next: None
ğŸ¯ TURN_STATE_DEBUG: Turn complete! Calling _complete_turn()
ğŸ¯ TURN_COMPLETE_DEBUG: Round 10, Turn 5 _complete_turn() called
ğŸ¯ TURN_COMPLETE_DEBUG: Round 10, Turn 5 Winner determined: Andy
ğŸ¯ CAPTURED_PILES_DEBUG: Andy captured_piles += 1 = 2
ğŸ¯ TURN_COMPLETE_DEBUG: Awarded 1 piles to Andy
ğŸ¯ TURN_COMPLETE_DEBUG: Next turn starter set to: Andy
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Turn completed - winner: Andy
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Turn completed - winner: Andy
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 4 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 4 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing delayed same-source trigger for current player Bot 4 from phase_change (age: 0.5s)
âœ… RACE_CONDITION_FIX: New action recorded for Bot 4 - play_pieces from phase_change (hash: 749788fbee0b)
ğŸš« SEQUENCE_FIX: Bot 4 already acted in turn 5 - skipping
ğŸš« RACE_CONDITION_FIX: Skipping bot trigger due to sequence tracking for Bot 4
ğŸ¯ TURN_COMPLETE_DEBUG: Phase data updated with turn completion
ğŸ TURN_COMPLETION_DEBUG: Starting turn completion processing
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Andy
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 2
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 3
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 4
ğŸ TURN_COMPLETION_DEBUG: After removing pieces, checking if all hands are empty
ğŸ TURN_COMPLETION_DEBUG: all_hands_empty = False
ğŸ”§ CONSISTENCY_CHECK: Hand sizes: {'Andy': 2, 'Bot 2': 2, 'Bot 3': 2, 'Bot 4': 2}
ğŸ”§ CONSISTENCY_CHECK: Min: 2, Max: 2
âœ… CONSISTENCY_CHECK: Hand size distribution is acceptable
ğŸ TURN_COMPLETION_DEBUG: Andy hand size: 2
ğŸ TURN_COMPLETION_DEBUG: Bot 2 hand size: 2
ğŸ TURN_COMPLETION_DEBUG: Bot 3 hand size: 2
ğŸ TURN_COMPLETION_DEBUG: Bot 4 hand size: 2
DEBUG_WS: Message for event 'turn_complete' added to queue for room 892141.
ğŸ TURN_COMPLETION_DEBUG: Hands not empty - will start next turn after delay
ğŸ¯ START_NEXT_DEBUG: start_next_turn_if_needed() called
ğŸ¯ START_NEXT_DEBUG: turn_complete: True
ğŸ¯ START_NEXT_DEBUG: all_hands_empty: False
ğŸ¯ START_NEXT_DEBUG: Starting new turn with starter: Andy
ğŸ¯ NEW_TURN_DEBUG: Round 10, Turn 6 starting with starter Andy
ğŸ¤– NEW_TURN_DEBUG: Notifying bot manager about new turn starter Andy for room 892141
ğŸ” DUPLICATE_DEBUG: Received turn_started event for Andy from unknown
ğŸ‘¤ Human player Andy starts, waiting for their play
ğŸ”¢ TURN_NUMBER_DEBUG: Backend game.turn_number = 6
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: New turn 6 started with starter Andy
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: New turn 6 started with starter Andy
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Andy is a bot
ğŸ‘¤ ENTERPRISE_BOT_DEBUG: Current player Andy is human - waiting
ğŸ¯ START_NEXT_DEBUG: _start_new_turn() completed
ğŸ¯ TURN_COMPLETE_DEBUG: _process_turn_completion() finished
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Andy, required_piece_count: None
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 4 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 4 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Andy is a bot
ğŸ‘¤ ENTERPRISE_BOT_DEBUG: Current player Andy is human - waiting
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Andy
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 4', 'pieces': [HORSE_RED(6)], 'piece_count': 1, 'required_count': None, 'next_player': 'Andy', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 4 play accepted - state machine handling all updates
DEBUG_WS_RECEIVE: Received event 'play' from client in room 892141 with data: {'piece_indices': [1], 'player_name': 'Andy', 'play_value': 1}
ğŸ¯ WS_PLAY_DEBUG: Received play event - player: Andy, indices: [1]
ğŸ¯ WS_PLAY_DEBUG: Found player Andy with hand size 2
ğŸ¯ WS_PLAY_DEBUG: Added piece at index 1: SOLDIER_BLACK(1)
ğŸ¯ WS_PLAY_DEBUG: Final pieces to play: ['SOLDIER_BLACK(1)']
ğŸ¯ WS_PLAY_DEBUG: Queuing action for state machine...
ğŸ¯ WS_PLAY_DEBUG: State machine result: {'success': True, 'queued': True}
âœ… Play queued: Andy -> [1]
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Andy
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Andy
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 0, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Andy playing 1 pieces: ['SOLDIER_BLACK(1)']
ğŸ¯ TURN_STATE_DEBUG: Setting required piece count to 1
ğŸ¯ TURN_STATE_DEBUG: Before setting - required_piece_count was: None
ğŸ¯ TURN_STATE_DEBUG: After setting - required_piece_count is: 1
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 0
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 1
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 2
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 6 - Andy played, next: Bot 2
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 2, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Andy played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Andy played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 2 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 2 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 2 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 2 - play_pieces from phase_change (hash: cd126bb9120d)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 2 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (1 pts): SOLDIER
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['SOLDIER_BLACK(1)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 2 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 2
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Andy', 'pieces': [SOLDIER_BLACK(1)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 2', 'turn_complete': False}
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 2
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 2
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 1, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 2 playing 1 pieces: ['SOLDIER_BLACK(1)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 1
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 2
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 3
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 6 - Bot 2 played, next: Bot 3
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 3, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 2 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 2 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 3 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 3 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 3 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 3 - play_pieces from phase_change (hash: 92ec7dc2dfc2)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 3 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (3 pts): CANNON
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['CANNON_BLACK(3)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 3 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 3
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 2', 'pieces': [SOLDIER_BLACK(1)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 3', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 2 play accepted - state machine handling all updates
DEBUG_WS_RECEIVE: Received event 'ping' from client in room lobby with data: {'timestamp': 1751602112617}
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 3
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 3
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 2, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 3 playing 1 pieces: ['CANNON_BLACK(3)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 2
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 3
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 4
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 6 - Bot 3 played, next: Bot 4
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 4, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 3 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 3 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 4 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 4 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 4 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 4 - play_pieces from phase_change (hash: 6531d38fb003)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 4 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (4 pts): CANNON
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['CANNON_RED(4)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 4 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 4
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 3', 'pieces': [CANNON_BLACK(3)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 4', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 3 play accepted - state machine handling all updates
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 4
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 4
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 3, turn_order: ['Andy', 'Bot 2', 'Bot 3', 'Bot 4']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 4 playing 1 pieces: ['CANNON_RED(4)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 3
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 4
ğŸ¯ TURN_STATE_DEBUG: Next player: None
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 6 - Bot 4 played, next: None
ğŸ¯ TURN_STATE_DEBUG: Turn complete! Calling _complete_turn()
ğŸ¯ TURN_COMPLETE_DEBUG: Round 10, Turn 6 _complete_turn() called
ğŸ¯ TURN_COMPLETE_DEBUG: Round 10, Turn 6 Winner determined: Bot 4
ğŸ¯ CAPTURED_PILES_DEBUG: Bot 4 captured_piles += 1 = 1
ğŸ¯ TURN_COMPLETE_DEBUG: Awarded 1 piles to Bot 4
ğŸ¯ TURN_COMPLETE_DEBUG: Next turn starter set to: Bot 4
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Turn completed - winner: Bot 4
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Turn completed - winner: Bot 4
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 4 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 4 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing delayed same-source trigger for current player Bot 4 from phase_change (age: 0.5s)
âœ… RACE_CONDITION_FIX: New action recorded for Bot 4 - play_pieces from phase_change (hash: 6531d38fb003)
ğŸš« SEQUENCE_FIX: Bot 4 already acted in turn 6 - skipping
ğŸš« RACE_CONDITION_FIX: Skipping bot trigger due to sequence tracking for Bot 4
ğŸ¯ TURN_COMPLETE_DEBUG: Phase data updated with turn completion
ğŸ TURN_COMPLETION_DEBUG: Starting turn completion processing
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Andy
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 2
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 3
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 4
ğŸ TURN_COMPLETION_DEBUG: After removing pieces, checking if all hands are empty
ğŸ TURN_COMPLETION_DEBUG: all_hands_empty = False
ğŸ”§ CONSISTENCY_CHECK: Hand sizes: {'Andy': 1, 'Bot 2': 1, 'Bot 3': 1, 'Bot 4': 1}
ğŸ”§ CONSISTENCY_CHECK: Min: 1, Max: 1
âœ… CONSISTENCY_CHECK: Hand size distribution is acceptable
ğŸ TURN_COMPLETION_DEBUG: Andy hand size: 1
ğŸ TURN_COMPLETION_DEBUG: Bot 2 hand size: 1
ğŸ TURN_COMPLETION_DEBUG: Bot 3 hand size: 1
ğŸ TURN_COMPLETION_DEBUG: Bot 4 hand size: 1
DEBUG_WS: Message for event 'turn_complete' added to queue for room 892141.
ğŸ TURN_COMPLETION_DEBUG: Hands not empty - will start next turn after delay
DEBUG_WS_RECEIVE: Received event 'ping' from client in room 892141 with data: {'timestamp': 1751602115295}
ğŸ¯ START_NEXT_DEBUG: start_next_turn_if_needed() called
ğŸ¯ START_NEXT_DEBUG: turn_complete: True
ğŸ¯ START_NEXT_DEBUG: all_hands_empty: False
ğŸ¯ START_NEXT_DEBUG: Starting new turn with starter: Bot 4
ğŸ¯ NEW_TURN_DEBUG: Round 10, Turn 7 starting with starter Bot 4
ğŸ¤– NEW_TURN_DEBUG: Notifying bot manager about new turn starter Bot 4 for room 892141
ğŸ” DUPLICATE_DEBUG: Received turn_started event for Bot 4 from unknown
ğŸ¤– Bot Bot 4 will play first
ğŸ¤– Bot Bot 4 thinking for 1.8s...
ğŸ¤– Bot Bot 4 choosing first play...
ğŸ¤– BOT chooses to play SINGLE (3 pts): CANNON
ğŸ¤– Bot Bot 4 will play 1 pieces: ['CANNON_BLACK(3)']
ğŸ¯ BOT_MANAGER_DEBUG: state_machine exists: True
ğŸ¯ BOT_PLAY_DEBUG: State machine result: {'success': True, 'queued': True}
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 4 first play action queued - state machine will broadcast with correct next_player
ğŸ”¢ TURN_NUMBER_DEBUG: Backend game.turn_number = 7
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: New turn 7 started with starter Bot 4
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: New turn 7 started with starter Bot 4
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 4 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 4 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 4 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 4 - play_pieces from phase_change (hash: c5da32a9dea9)
ğŸš« RACE_CONDITION_FIX: Skipping enterprise trigger for Bot 4 - turn starter already triggered by turn_started event
ğŸ¯ START_NEXT_DEBUG: _start_new_turn() completed
ğŸ¯ TURN_COMPLETE_DEBUG: _process_turn_completion() finished
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 4, required_piece_count: None
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 4 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 4 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 4 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 4 is a bot - checking for duplicates
ğŸš« REFINED_FIX: Blocking rapid same-source trigger for current player Bot 4 from phase_change (age: 0.0s)
ğŸš« RACE_CONDITION_FIX: Skipping duplicate play action for Bot 4
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 4
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 4', 'pieces': [CANNON_RED(4)], 'piece_count': 1, 'required_count': None, 'next_player': 'Bot 4', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 4 play accepted - state machine handling all updates
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 4
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 4
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 0, turn_order: ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 4 playing 1 pieces: ['CANNON_BLACK(3)']
ğŸ¯ TURN_STATE_DEBUG: Setting required piece count to 1
ğŸ¯ TURN_STATE_DEBUG: Before setting - required_piece_count was: None
ğŸ¯ TURN_STATE_DEBUG: After setting - required_piece_count is: 1
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 0
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 1
ğŸ¯ TURN_STATE_DEBUG: Next player: Andy
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 7 - Bot 4 played, next: Andy
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Andy, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 4 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 4 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Andy is a bot
ğŸ‘¤ ENTERPRISE_BOT_DEBUG: Current player Andy is human - waiting
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Andy
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 4', 'pieces': [CANNON_BLACK(3)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Andy', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 4 play accepted - state machine handling all updates
DEBUG_WS_RECEIVE: Received event 'play' from client in room 892141 with data: {'piece_indices': [0], 'player_name': 'Andy', 'play_value': 10}
ğŸ¯ WS_PLAY_DEBUG: Received play event - player: Andy, indices: [0]
ğŸ¯ WS_PLAY_DEBUG: Found player Andy with hand size 1
ğŸ¯ WS_PLAY_DEBUG: Added piece at index 0: ELEPHANT_RED(10)
ğŸ¯ WS_PLAY_DEBUG: Final pieces to play: ['ELEPHANT_RED(10)']
ğŸ¯ WS_PLAY_DEBUG: Queuing action for state machine...
ğŸ¯ WS_PLAY_DEBUG: State machine result: {'success': True, 'queued': True}
âœ… Play queued: Andy -> [0]
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Andy
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Andy
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 1, turn_order: ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
ğŸ¯ TURN_STATE_DEBUG: Player Andy playing 1 pieces: ['ELEPHANT_RED(10)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 1
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 2
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 2
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 7 - Andy played, next: Bot 2
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 2, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Andy played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Andy played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 2 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 2 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 2 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 2 - play_pieces from phase_change (hash: 55e3e4241260)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 2 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (1 pts): SOLDIER
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['SOLDIER_BLACK(1)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 2 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 2
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Andy', 'pieces': [ELEPHANT_RED(10)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 2', 'turn_complete': False}
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 2
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 2
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 2, turn_order: ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 2 playing 1 pieces: ['SOLDIER_BLACK(1)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 2
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 3
ğŸ¯ TURN_STATE_DEBUG: Next player: Bot 3
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 7 - Bot 2 played, next: Bot 3
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: Bot 3, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 2 played 1 pieces
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Player Bot 2 played 1 pieces
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 3 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 3 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing new trigger for current player Bot 3 from phase_change
âœ… RACE_CONDITION_FIX: New action recorded for Bot 3 - play_pieces from phase_change (hash: 26b6d1a978bc)
âœ… RACE_CONDITION_FIX: Triggering bot play for Bot 3 - no duplicates detected
ğŸ¯ BOT_PLAY_DEBUG: Got required_piece_count from state machine: 1
ğŸ¤– BOT chooses to play SINGLE (2 pts): SOLDIER
ğŸ¯ BOT_PLAY_DEBUG: Final selection - 1 pieces: ['SOLDIER_RED(2)']
ğŸ¯ BOT_PLAY_DEBUG: Action queued successfully, state machine will handle updates and broadcasting
âœ… Bot Bot 3 action queued - state machine will broadcast with correct next_player
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: Bot 3
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 2', 'pieces': [SOLDIER_BLACK(1)], 'piece_count': 1, 'required_count': 1, 'next_player': 'Bot 3', 'turn_complete': False}
âœ… BOT_VALIDATION_FIX: Bot Bot 2 play accepted - state machine handling all updates
ğŸ¯ TURN_STATE_DEBUG: Processing action play_pieces from Bot 3
ğŸ¯ TURN_STATE_DEBUG: _handle_play_pieces called for Bot 3
ğŸ¯ TURN_STATE_DEBUG: Current state - player_index: 3, turn_order: ['Bot 4', 'Andy', 'Bot 2', 'Bot 3']
ğŸ¯ TURN_STATE_DEBUG: Player Bot 3 playing 1 pieces: ['SOLDIER_RED(2)']
ğŸ¯ TURN_STATE_DEBUG: Before advancing - current_player_index: 3
ğŸ¯ TURN_STATE_DEBUG: After advancing - current_player_index: 4
ğŸ¯ TURN_STATE_DEBUG: Next player: None
ğŸ¯ TURN_STATE_DEBUG: Round 10, Turn 7 - Bot 3 played, next: None
ğŸ¯ TURN_STATE_DEBUG: Turn complete! Calling _complete_turn()
ğŸ¯ TURN_COMPLETE_DEBUG: Round 10, Turn 7 _complete_turn() called
ğŸ¯ TURN_COMPLETE_DEBUG: Round 10, Turn 7 Winner determined: Andy
ğŸ¯ CAPTURED_PILES_DEBUG: Andy captured_piles += 1 = 3
ğŸ¯ TURN_COMPLETE_DEBUG: Awarded 1 piles to Andy
ğŸ¯ TURN_COMPLETE_DEBUG: Next turn starter set to: Andy
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Turn completed - winner: Andy
ğŸ” PHASE_TRACKING_FIX: Same phase update: turn
ğŸ” BOT_MANAGER_DEBUG: _handle_enterprise_phase_change called - phase: turn, reason: Turn completed - winner: Andy
ğŸš€ ENTERPRISE_BOT_DEBUG: Turn phase - checking if Bot 3 is a bot
ğŸ¤– ENTERPRISE_BOT_DEBUG: Current player Bot 3 is a bot - checking for duplicates
âœ… REFINED_FIX: Allowing delayed same-source trigger for current player Bot 3 from phase_change (age: 0.5s)
âœ… RACE_CONDITION_FIX: New action recorded for Bot 3 - play_pieces from phase_change (hash: 26b6d1a978bc)
ğŸš« SEQUENCE_FIX: Bot 3 already acted in turn 7 - skipping
ğŸš« RACE_CONDITION_FIX: Skipping bot trigger due to sequence tracking for Bot 3
ğŸ¯ TURN_COMPLETE_DEBUG: Phase data updated with turn completion
ğŸ TURN_COMPLETION_DEBUG: Starting turn completion processing
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Andy
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 2
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 3
ğŸ TURN_COMPLETION_DEBUG: Removing 1 pieces from Bot 4
ğŸ TURN_COMPLETION_DEBUG: After removing pieces, checking if all hands are empty
ğŸ TURN_COMPLETION_DEBUG: all_hands_empty = True
ğŸ”§ CONSISTENCY_CHECK: Hand sizes: {'Andy': 0, 'Bot 2': 0, 'Bot 3': 0, 'Bot 4': 0}
ğŸ”§ CONSISTENCY_CHECK: Min: 0, Max: 0
âœ… CONSISTENCY_CHECK: Hand size distribution is acceptable
ğŸ TURN_COMPLETION_DEBUG: Andy hand size: 0
ğŸ TURN_COMPLETION_DEBUG: Bot 2 hand size: 0
ğŸ TURN_COMPLETION_DEBUG: Bot 3 hand size: 0
ğŸ TURN_COMPLETION_DEBUG: Bot 4 hand size: 0
DEBUG_WS: Message for event 'turn_complete' added to queue for room 892141.
ğŸ TURN_COMPLETION_DEBUG: Round complete - will transition to scoring
ğŸ¯ TURN_COMPLETE_DEBUG: _process_turn_completion() finished
ğŸ¯ UPDATE_DEBUG: About to update phase data with current_player: None, required_piece_count: 1
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Player Bot 3 played 1 pieces
ğŸ¯ UPDATE_DEBUG: Phase data updated - next_player should be: None
ğŸ¯ TURN_STATE_DEBUG: Play pieces result: {'status': 'play_accepted', 'player': 'Bot 3', 'pieces': [SOLDIER_RED(2)], 'piece_count': 1, 'required_count': 1, 'next_player': None, 'turn_complete': True}
âœ… BOT_VALIDATION_FIX: Bot Bot 3 play accepted - state machine handling all updates
ğŸ”„ SCORING_SETUP_DEBUG: Reset display_delay_complete = False
ğŸ—³ï¸ DECLARATION_DEBUG: game.player_declarations = {'Andy': 3, 'Bot 2': 1, 'Bot 3': 1, 'Bot 4': 1}
ğŸ“‹ SCORING_FIX_DEBUG: Andy - declared: 3, actual: 3
ğŸ† SCORING_DEBUG: Andy scoring data:
   ğŸ“‹ Declared: 3, Actual: 3
   ğŸ“Š Base Score: 8, Multiplier: 1x, Final: 8
   ğŸ’¯ Total Score: 55
ğŸ“‹ SCORING_FIX_DEBUG: Bot 2 - declared: 1, actual: 3
ğŸ† SCORING_DEBUG: Bot 2 scoring data:
   ğŸ“‹ Declared: 1, Actual: 3
   ğŸ“Š Base Score: -2, Multiplier: 1x, Final: -2
   ğŸ’¯ Total Score: -5
ğŸ“‹ SCORING_FIX_DEBUG: Bot 3 - declared: 1, actual: 1
ğŸ† SCORING_DEBUG: Bot 3 scoring data:
   ğŸ“‹ Declared: 1, Actual: 1
   ğŸ“Š Base Score: 6, Multiplier: 1x, Final: 6
   ğŸ’¯ Total Score: -6
ğŸ“‹ SCORING_FIX_DEBUG: Bot 4 - declared: 1, actual: 1
ğŸ† SCORING_DEBUG: Bot 4 scoring data:
   ğŸ“‹ Declared: 1, Actual: 1
   ğŸ“Š Base Score: 6, Multiplier: 1x, Final: 6
   ğŸ’¯ Total Score: 14
ğŸš€ SCORING_BROADCAST_DEBUG: Broadcasting scoring data:
   ğŸ“Š Round scores: {'Andy': {'declared': 3, 'actual': 3, 'base_score': 8, 'multiplier': 1, 'final_score': 8, 'total_score': 55}, 'Bot 2': {'declared': 1, 'actual': 3, 'base_score': -2, 'multiplier': 1, 'final_score': -2, 'total_score': -5}, 'Bot 3': {'declared': 1, 'actual': 1, 'base_score': 6, 'multiplier': 1, 'final_score': 6, 'total_score': -6}, 'Bot 4': {'declared': 1, 'actual': 1, 'base_score': 6, 'multiplier': 1, 'final_score': 6, 'total_score': 14}}
   ğŸ Game complete: True
   ğŸ† Winners: ['Andy']
ğŸš€ SCORING_BROADCAST_DEBUG: Also sending:
   ğŸ’¯ Total scores: {'Andy': 55, 'Bot 2': -5, 'Bot 3': -6, 'Bot 4': 14}
   ğŸ‘¥ Players data: [{'name': 'Andy', 'is_bot': False, 'pile_count': 3, 'captured_piles': 3}, {'name': 'Bot 2', 'is_bot': True, 'pile_count': 1, 'captured_piles': 3}, {'name': 'Bot 3', 'is_bot': True, 'pile_count': 1, 'captured_piles': 1}, {'name': 'Bot 4', 'is_bot': True, 'pile_count': 1, 'captured_piles': 1}]
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
ğŸ” ENTERPRISE_DEBUG: _notify_bot_manager_data_change called - reason: Scoring calculated for round 10
DEBUG_WS: Message for event 'phase_change' added to queue for room 892141.
â° SCORING_DELAY_DEBUG: Starting 7-second display delay...
â° SCORING_DELAY_DEBUG: 7-second delay complete - setting display_delay_complete = True
INFO:     ('127.0.0.1', 56609) - "WebSocket /ws/lobby" [accepted]
DEBUG_WS: Registered new connection for room lobby. Total connections: 3
INFO:     connection open
DEBUG_LOBBY_WS: Client disconnected from lobby
INFO:     connection closed
DEBUG_WS: Unregistered connection for room lobby. Remaining connections: 2
DEBUG_WS_RECEIVE: Received event 'client_ready' from client in room lobby with data: {'room_id': 'lobby'}
INFO:     ('127.0.0.1', 56611) - "WebSocket /ws/lobby" [accepted]
DEBUG_WS: Registered new connection for room lobby. Total connections: 3
INFO:     connection open
DEBUG_LOBBY_WS: Client disconnected from lobby
INFO:     connection closed
DEBUG_WS: Unregistered connection for room lobby. Remaining connections: 2
DEBUG_WS_RECEIVE: Received event 'client_ready' from client in room lobby with data: {'room_id': 'lobby'}
DEBUG_LOBBY_WS: Sent initial room list to new lobby client
DEBUG_WS_RECEIVE: Received event 'ping' from client in room 892141 with data: {'timestamp': 1751602145294}