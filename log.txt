(venv) Narongwits-MacBook-Pro:liap-tui nrw$ ./start.sh
‚úÖ Clean Architecture activated (8/8 feature flags enabled)
üö¶ Adapter routing enabled (100% traffic to clean architecture)
‚ñ∂Ô∏è Starting backend on http://0.0.0.0:5050 ...
INFO:     Will watch for changes in these directories: ['/Users/nrw/python/tui-project/liap-tui']
INFO:     Uvicorn running on http://0.0.0.0:5050 (Press CTRL+C to quit)
INFO:     Started reloader process [17606] using WatchFiles
üåê Starting esbuild in watch mode...
üîç BOT_MANAGER: Created new singleton instance
/Users/nrw/python/tui-project/liap-tui/venv/lib/python3.11/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)

> frontend@1.0.0 dev
> node esbuild.config.cjs

2025-07-27 09:53:18 - config.logging_config - INFO - Logging configured
Rate limiting is enabled
INFO:     Started server process [17609]
INFO:     Waiting for application startup.
üîÑ RELIABLE_MSG: Message retry worker started
üîÑ RELIABLE_MSG: Message retry worker started
2025-07-27 09:53:18 - backend.api.routes.ws - INFO - üßπ [ROOM_DEBUG] Starting room cleanup background task
2025-07-27 09:53:18 - backend.api.routes.ws - INFO - üßπ [ROOM_DEBUG] Room cleanup task started
INFO:     Application startup complete.
üëÄ Watching for changes to ./main.js, output to ../backend/static/

[0.44ms] [@tailwindcss/postcss] src/styles/components/game/gameover.css
[0.42ms]   ‚Ü≥ Quick bail check


[0.08ms] [@tailwindcss/postcss] src/styles/toast-notifications.css
[0.07ms]   ‚Ü≥ Quick bail check


[216.21ms] [@tailwindcss/postcss] src/styles/globals.css
[  0.09ms]   ‚Ü≥ Quick bail check
[ 85.91ms]   ‚Ü≥ Setup compiler
[  0.51ms]     ‚Ü≥ PostCSS AST -> Tailwind CSS AST
[ 85.38ms]     ‚Ü≥ Create compiler
[  0.37ms]   ‚Ü≥ Register full rebuild paths
[  5.02ms]   ‚Ü≥ Setup scanner
[ 33.12ms]   ‚Ü≥ Scan for candidates
[ 19.15ms]   ‚Ü≥ Register dependency messages
[ 57.24ms]   ‚Ü≥ Build utilities
[  9.92ms]   ‚Ü≥ Transform Tailwind CSS AST into PostCSS AST
[  4.96ms]   ‚Ü≥ Update PostCSS AST

INFO:     127.0.0.1:60434 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:60434 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60436 - "GET /bundle.css HTTP/1.1" 200 OK
INFO:     127.0.0.1:60438 - "GET /bundle.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:60438 - "GET /bundle.css.map HTTP/1.1" 200 OK
INFO:     127.0.0.1:60438 - "GET /bundle.js.map HTTP/1.1" 200 OK
INFO:     127.0.0.1:60438 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] New WebSocket connection to room 'lobby', ws_id: cf613f15-1198-41d0-a609-1cf64d5c610e at 1753635204.5197508
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - üßπ [ROOM_DEBUG] Room cleanup task already running
INFO:     ('127.0.0.1', 60452) - "WebSocket /ws/lobby" [accepted]
INFO:     connection open
2025-07-27 09:53:24 - api.routes.ws_adapter_wrapper - INFO - WSAdapterWrapper configuration loaded:
2025-07-27 09:53:24 - api.routes.ws_adapter_wrapper - INFO -   Enabled: True (env: true)
2025-07-27 09:53:24 - api.routes.ws_adapter_wrapper - INFO -   Rollout: 100.0% (env: 100)
2025-07-27 09:53:24 - api.routes.ws_adapter_wrapper - INFO -   Shadow: False at 1.0%
2025-07-27 09:53:24 - api.routes.ws_adapter_wrapper - INFO -   üö¶ Will activate ADAPTER-ONLY MODE when initialized
2025-07-27 09:53:24 - api.adapters.integrated_adapter_system - INFO - IntegratedAdapterSystem initialized with 22 adapters
2025-07-27 09:53:24 - api.adapters.integrated_adapter_system - WARNING - ADAPTER-ONLY MODE ENABLED: No legacy fallback!
2025-07-27 09:53:24 - api.routes.ws_adapter_wrapper - INFO - Adapter system initialized in ADAPTER-ONLY MODE (no legacy fallback)
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] Handling disconnect for room 'lobby', websocket_id: cf613f15-1198-41d0-a609-1cf64d5c610e at 1753635204.538603
2025-07-27 09:53:24 - api.websocket.connection_manager - WARNING - WebSocket ID cf613f15-1198-41d0-a609-1cf64d5c610e not found in mapping. Current mappings: []
2025-07-27 09:53:24 - backend.api.routes.ws - WARNING - No websocket_id found on websocket object for room lobby
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - ‚ö†Ô∏è [ROOM_DEBUG] WebSocket disconnect without ID for room 'lobby'
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] WebSocket unregistered from room 'lobby'
INFO:     connection closed
2025-07-27 09:53:24 - engine.async_room_manager - WARNING - Room lobby not found in AsyncRoomManager. Current rooms: []
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] New WebSocket connection to room 'lobby', ws_id: 891414e1-ff9e-4460-84e4-2177d38ebd5f at 1753635204.542248
2025-07-27 09:53:24 - backend.api.routes.ws - INFO - üßπ [ROOM_DEBUG] Room cleanup task already running
INFO:     ('127.0.0.1', 60454) - "WebSocket /ws/lobby" [accepted]
INFO:     connection open
2025-07-27 09:53:25 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] New WebSocket connection to room 'lobby', ws_id: 0f253a92-ad3a-4183-a85a-ccbbfd6c9a28 at 1753635205.6344771
2025-07-27 09:53:25 - backend.api.routes.ws - INFO - üßπ [ROOM_DEBUG] Room cleanup task already running
INFO:     ('127.0.0.1', 60460) - "WebSocket /ws/lobby" [accepted]
INFO:     connection open
2025-07-27 09:53:25 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] Handling disconnect for room 'lobby', websocket_id: 891414e1-ff9e-4460-84e4-2177d38ebd5f at 1753635205.6364002
2025-07-27 09:53:25 - api.websocket.connection_manager - WARNING - WebSocket ID 891414e1-ff9e-4460-84e4-2177d38ebd5f not found in mapping. Current mappings: []
2025-07-27 09:53:25 - backend.api.routes.ws - WARNING - No websocket_id found on websocket object for room lobby
2025-07-27 09:53:25 - backend.api.routes.ws - INFO - ‚ö†Ô∏è [ROOM_DEBUG] WebSocket disconnect without ID for room 'lobby'
2025-07-27 09:53:25 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] WebSocket unregistered from room 'lobby'
INFO:     connection closed
2025-07-27 09:53:25 - api.adapters.room_adapters - ERROR - [ROOM_CREATE_DEBUG] Error creating room: Can't instantiate abstract class WebSocketEventPublisher with abstract method publish_batch
Traceback (most recent call last):
  File "/Users/nrw/python/tui-project/liap-tui/backend/api/adapters/room_adapters.py", line 129, in _handle_create_room
    event_publisher = get_event_publisher()
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nrw/python/tui-project/liap-tui/backend/infrastructure/dependencies.py", line 200, in get_event_publisher
    return get_container().get(EventPublisher)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nrw/python/tui-project/liap-tui/backend/infrastructure/dependencies.py", line 156, in get
    instance = self._factories[interface]()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nrw/python/tui-project/liap-tui/backend/infrastructure/dependencies.py", line 96, in _create_event_publisher
    publishers.append(WebSocketEventPublisher())
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Can't instantiate abstract class WebSocketEventPublisher with abstract method publish_batch
2025-07-27 09:53:32 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] New WebSocket connection to room 'lobby', ws_id: dde8a51c-72f3-4b28-84d0-8f70b2559f7e at 1753635212.4902558
2025-07-27 09:53:32 - backend.api.routes.ws - INFO - üßπ [ROOM_DEBUG] Room cleanup task already running
INFO:     ('127.0.0.1', 60490) - "WebSocket /ws/lobby" [accepted]
INFO:     connection open
2025-07-27 09:53:32 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] Handling disconnect for room 'lobby', websocket_id: 0f253a92-ad3a-4183-a85a-ccbbfd6c9a28 at 1753635212.502034
2025-07-27 09:53:32 - api.websocket.connection_manager - WARNING - WebSocket ID 0f253a92-ad3a-4183-a85a-ccbbfd6c9a28 not found in mapping. Current mappings: []
2025-07-27 09:53:32 - backend.api.routes.ws - WARNING - No websocket_id found on websocket object for room lobby
2025-07-27 09:53:32 - backend.api.routes.ws - INFO - ‚ö†Ô∏è [ROOM_DEBUG] WebSocket disconnect without ID for room 'lobby'
2025-07-27 09:53:32 - backend.api.routes.ws - INFO - üîå [ROOM_DEBUG] WebSocket unregistered from room 'lobby'
INFO:     connection closed