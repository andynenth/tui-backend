# Liap Tui Configuration Example
# Copy this file to .env and adjust values as needed

# Backend server config
API_HOST=0.0.0.0
API_PORT=5050
DEBUG=true

# Game logic
MAX_SCORE=50
MAX_ROUNDS=20

# AI / Bot settings
BOT_ENABLED=true

# ESBuild bundling
ESBUILD_ENTRY=./main.js
ESBUILD_OUT=../backend/static/

# Frontend / CORS
ALLOWED_ORIGINS=http://localhost:5050,http://127.0.0.1:5050

# Static files
STATIC_DIR=backend/static
INDEX_FILE=index.html

# Rate Limiting Configuration
# ===========================

# Master switch for rate limiting (true/false)
RATE_LIMIT_ENABLED=true

# Debug mode - logs all rate limit checks (true/false)
RATE_LIMIT_DEBUG=false

# Global Settings
RATE_LIMIT_GLOBAL_RPM=100           # Global requests per minute
RATE_LIMIT_BURST_MULTIPLIER=1.5    # Burst traffic multiplier
RATE_LIMIT_BLOCK_DURATION=300       # Block duration in seconds (5 min)

# REST API Endpoints
RATE_LIMIT_HEALTH_RPM=60            # Health check endpoint
RATE_LIMIT_ROOMS_RPM=30             # Rooms endpoint
RATE_LIMIT_RECOVERY_RPM=10          # Recovery endpoint

# WebSocket System Events
RATE_LIMIT_WS_PING_RPM=120          # Ping/pong (2 per second)
RATE_LIMIT_WS_ACK_RPM=200           # Message acknowledgments
RATE_LIMIT_WS_SYNC_RPM=10           # Sync requests

# WebSocket Lobby Events
RATE_LIMIT_WS_ROOM_LIST_RPM=30      # Room list requests
RATE_LIMIT_WS_CREATE_ROOM_RPM=5     # Room creation
RATE_LIMIT_WS_JOIN_ROOM_RPM=10      # Room joining

# WebSocket Game Events
RATE_LIMIT_WS_DECLARE_RPM=5         # Pile declarations
RATE_LIMIT_WS_PLAY_RPM=20           # Playing pieces
RATE_LIMIT_WS_REDEAL_RPM=3          # Redeal requests
RATE_LIMIT_WS_START_GAME_RPM=3      # Starting games

# Room Flood Protection
RATE_LIMIT_ROOM_FLOOD_THRESHOLD=1000 # Max messages per room per minute

# Grace Period Settings
RATE_LIMIT_GRACE_WARNING=0.8        # Warn at 80% of limit
RATE_LIMIT_GRACE_MULTIPLIER=1.2     # 20% extra during grace
RATE_LIMIT_GRACE_DURATION=30        # Grace period in seconds

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Development Settings
DEV_MODE=false
HOT_RELOAD=true